# car-db-lab
Решение лабы по курсу бд

В папке src находятся необходимые штуки для импорта данных из файлов в бд

В `tables.py` находится описание таблиц из бд в виде `dataclass`

`filereader.py` - тут находится класс filereader для удобного чтения 
данных из файла

`querybuilder.py` - тут есть класс `QueryBuilder`, который может
строить запрос на инсерт данных из датакласса в таблицу, которую
он описывает

`bootstarp.py` - это просто загрузчик, который используется для сборки
необходимых объектов

`migration/datafeeder.py` так раз и делает импорт 

Так же для начальной миграции таблиц и других сущностей использовалась
`yoyo migration`, для миграции применялся файл `initial.sql`

Сама база данных разворачивалась в `docker` c помощью `docker-compose`

Чтобы разверннуть рабочее окружение нужно:

    1. doccker-compose up -d - это мы развернем postgres в докере
    2. pipenv shell, pipenv sync, pipenv lock - загрузить виртуальную среду
    2. yoyo apply - применим миграции из migrations
    3. python migration/datafeeder.py запустить скрипт для импорта данных

Все окружение готово, можно работать.
